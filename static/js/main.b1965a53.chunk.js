(this.webpackJsonpquillhash=this.webpackJsonpquillhash||[]).push([[0],{195:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),o=a(63),r=a.n(o),i=(a(80),a(81),a(36)),c=a.n(i),l=a(9),h=a(64),p=a(65),u=a(66),d=a(73),m=a(72),b=a(209),f=a(67),v=function(t){return s.a.createElement(f.a,{data:t.data,options:t.options})},g=a(69),w=a.n(g),C=function(t){Object(d.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(p.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))).state={pastBTCData:[],lineChartData:{labels:[],datasets:[{type:"line",label:"BTC-USD",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:t.props.theme.palette.primary.main,pointBackgroundColor:t.props.theme.palette.secondary.main,pointBorderColor:t.props.theme.palette.secondary.main,borderWidth:"3",lineTension:.45,data:[]}]},lineChartOptions:{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!0},scales:{xAxes:[{ticks:{autoSkip:!0,maxTicksLimit:10}}]}}},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=Object(h.a)(c.a.mark((function t(){var e,a,n,s,o,r,i=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://api.coingecko.com/api/v3/coins/bitcoin/market_chart/?vs_currency=usd&days=100").then((function(t){console.log(t.data.prices),i.setState({pastBTCData:t.data.prices})})).catch((function(t){console.log(t.message)}));case 2:for(e=this.state.pastBTCData,a=0;a<100;a++)n=this.state.lineChartData.datasets[0],(s=Object(l.a)({},n)).data.push(e[a][1]),o=Object(l.a)(Object(l.a)({},this.state.lineChartData),{},{datasets:[s],labels:this.state.lineChartData.labels.concat((new Date).toLocaleTimeString())}),this.setState({lineChartData:o});r={type:"subscribe",channels:[{name:"ticker",product_ids:["BTC-USD"]}]},this.ws=new WebSocket("wss://ws-feed.gdax.com"),this.ws.onopen=function(){i.ws.send(JSON.stringify(r))},this.ws.onmessage=function(t){var e=JSON.parse(t.data);if("ticker"===e.type){var a=i.state.lineChartData.datasets[0],n=Object(l.a)({},a);n.data.push(e.price);var s=Object(l.a)(Object(l.a)({},i.state.lineChartData),{},{datasets:[n],labels:i.state.lineChartData.labels.concat((new Date).toLocaleTimeString())});i.setState({lineChartData:s})}};case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.ws.close()}},{key:"render",value:function(){var t=this.props.classes;return s.a.createElement("div",{className:t["chart-container"]},s.a.createElement(v,{data:this.state.lineChartData,options:this.state.lineChartOptions}))}}]),a}(n.Component),k=Object(b.a)((function(t){return{"chart-container":{height:600}}}),{withTheme:!0})(C);var D=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=a(71),O=a(208),j=Object(y.a)();r.a.render(s.a.createElement(O.a,{theme:j},s.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},75:function(t,e,a){t.exports=a(195)},80:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},81:function(t,e,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.b1965a53.chunk.js.map